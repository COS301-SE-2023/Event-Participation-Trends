<subpagenav [currentPage]="'/home/createfloorplan'"></subpagenav>

<ion-content>
  <div class="grid grid-cols-12 gap-3 p-3 h-full">
    <div
      class="tool-menu col-span-2 rounded-lg md:rounded-xl shadow-[0px_5px_15px_2px_rgba(0,0,0,0.2)] text-ept-deep-grey relative"
    >
      <h1 class="text-lg font-semibold text-center mt-5">Tools</h1>
      <h3
        class="components-heading flex justify-between items-center mt-6 ml-2"
      >
        Components
        <button class="dropdown-toggle" class="mr-3" (click)="toggleDropdown()">
          <ion-icon
            [class.dropdown-icon]="true"
            [class.rotated]="isDropdownOpen"
            name="chevron-down-outline"
          ></ion-icon>
        </button>
      </h3>
      <div
        class="components-list mb-1 overflow-hidden"
        [class.show]="isDropdownOpen"
      >
        <div class="overflow-y-auto max-h-52">
          <p
            class="border-2 rounded-lg p-1 w-20 mt-2"
            draggable="true"
            (dragstart)="onDragStart($event)"
          >
            Sensor 1
          </p>
          <p
            class="border-2 rounded-lg p-1 w-20 mt-2"
            draggable="true"
            (dragstart)="onDragStart($event)"
          >
            Sensor 2
          </p>
          <p
            class="border-2 rounded-lg p-1 w-20 mt-2"
            draggable="true"
            (dragstart)="onDragStart($event)"
          >
            Sensor 3
          </p>
        </div>
      </div>
      <h3 class="attributes-heading mt-3 ml-2">Component Attributes</h3>
      <ion-item class="attributes-list" lines="none">
        <ion-label>Width:</ion-label>
        <input
          class="input-field input focus:outline-none focus:ring-2 focus:ring-blue-500 mr-10 border-2 rounded"
          type="number"
          step="0.01"
          value="0"
        />
      </ion-item>
      <ion-item class="attributes-list" lines="none">
        <ion-label>Height:</ion-label>
        <input
          class="input-field input focus:outline-none focus:ring-2 focus:ring-blue-500 mr-10 border-2 rounded justify-self-end"
          type="number"
          step="0.01"
          value="0"
        />
      </ion-item>
      <ion-item class="attributes-list" lines="none">
        <ion-label>Angle:</ion-label>
        <input
          class="input-field input focus:outline-none focus:ring-2 focus:ring-blue-500 mr-10 border-2 rounded justify-self-end"
          type="number"
          step="0.01"
          value="0"
        />
      </ion-item>

      <ion-button
        class="create-event mt-20 ml-20 right-2.5 h-40px text-ept-off-white text-sm/16 rounded-lg bg-green-500 drop-shadow-lg absolute bottom-0 mb-10 hover:scale-102 hover:bg-opacity-100 hover:shadow-[0px_2px_7px_2px_rgba(0,0,0,0.2)]"
        >Create Event</ion-button
      >
    </div>
    <div
      class="canvas relative col-span-10 border-4 border-black rounded-lg md:rounded-xl shadow-[0px_5px_15px_2px_rgba(0,0,0,0.2)] text-ept-deep-grey"
      [ngClass]="{'flex flex-col items-center justify-center' : noItemsAdded()}"
      (drop)="onDrop($event)"
      (dragover)="onDragOver($event)"
    >
      <p
        class="text-center text-2xl text-ept-deep-grey opacity-30 font-semibold mt-10"
        *ngIf="noItemsAdded()"
      >
        Drag a component to the canvas
      </p>
      <canvas #canvasElement></canvas>
    </div>
  </div>
</ion-content>
