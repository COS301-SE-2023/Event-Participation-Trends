<ion-tabs class="text-ept-off-white relative">
  <!-- mobile -->
  <ion-tab-bar
    slot="top"
    class="bg-ept-deep-grey backdrop-blur-md drop-shadow-lg text-ept-off-white grid-cols-3 px-4 grid sm:hidden z-30"
  >
    <div id="title" class="col-span-2 main-title flex justify-self-start">
      <ion-label ngClass="title-text" class="text-xl font-semibold"
        >EPT
      </ion-label>
    </div>

    <div class="flex justify-self-end"
    *ngIf="isViewer()"
    >
      <div class="self-center text-xl">{{username}}</div>
      <div class="self-end text-gray-400 ml-1 text-[15px]">/ {{role}}</div>
      <ion-icon
        *ngIf="faultyImage"
        slot="end"
        name="person-circle"
        class="w-[40px] h-[40px] rounded-full"
        alt="profile picture"
      ></ion-icon>
      <img
        *ngIf="!faultyImage"
        slot="end"
        src="{{profilePicUrl}}"
        class="w-[35px] h-[35px] rounded-full ml-2 hover:scale-[115%] transition-all duration-200"
        alt="profile picture"
        (click)="openProfile($event)"
      />
    </div>

    <div class="justify-self-end flex" *ngIf="!isViewer()">
      <button
        class="text-ept-off-white w-10 h-10 relative focus:outline-none bg-transparent"
        (click)="open = !open"
      >
        <span class="sr-only">Open main menu</span>
        <div
          class="block w-5 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2"
        >
          <span
            aria-hidden="true"
            class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out"
            [ngClass]="{'rotate-45': open,' -translate-y-1.5': !open }"
          ></span>
          <span
            aria-hidden="true"
            class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out"
            [ngClass]="{'opacity-0': open } "
          ></span>
          <span
            aria-hidden="true"
            class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out"
            [ngClass]="{'-rotate-45': open, ' translate-y-1.5': !open}"
          ></span>
        </div>
      </button>
    </div>
  </ion-tab-bar>
  <ion-tab-bar
    [ngClass]="{'top-[-100px]': !open, 'top-[50px]': open}"
    class="mobile absolute w-screen bg-ept-deep-grey backdrop-blur-md drop-shadow-lg text-ept-off-white sm:hidden transition-all ease-in duration-300 grid grid-rows-2 justify-items-end justify-end"
  >
    <div class="justify-items-around justify-center w-screen flex bg-transparent">
      <ion-tab-button
        *ngIf="allowUsers()"
        tab="usermanagement"
        ngClass="tab-button"
        class="bg-inherit hover:text-ept-bumble-yellow duration-300 transition-all"
        (click)="selectTab('Users')"
        selected="{{usersSelected}}"
      >
        <ion-label ngClass="mobile-label">Users</ion-label>
      </ion-tab-button>

      <ion-tab-button
        *ngIf="allowView()"
        tab="viewevents"
        ngClass="tab-button"
        class="bg-inherit hover:text-ept-bumble-yellow duration-300 transition-all"
        (click)="selectTab('View')"
        selected="{{viewSelected}}"
      >
        <ion-label ngClass="mobile-label">Events</ion-label>
      </ion-tab-button>

      <ion-tab-button
        *ngIf="allowCompare()"
        tab="comparingevents"
        ngClass="tab-button"
        class="bg-inherit hover:text-ept-bumble-yellow duration-300 transition-all"
        (click)="selectTab('Compare Events')"
        selected="{{compareSelected}}"
      >
        <ion-label ngClass="mobile-label">Compare</ion-label>
      </ion-tab-button>
    </div>

    <div class="flex justify-self-end mr-4"
    >
      <div class="self-center text-xl">{{username}}</div>
      <div class="self-end text-gray-400 ml-1 text-[15px]">/ {{role}}</div>
      <ion-icon
        *ngIf="faultyImage"
        slot="end"
        name="person-circle"
        class="w-[40px] h-[40px] rounded-full"
        alt="profile picture"
      ></ion-icon>
      <img
        *ngIf="!faultyImage"
        slot="end"
        src="{{profilePicUrl}}"
        class="w-[35px] h-[35px] rounded-full ml-2 hover:scale-[115%] transition-all duration-200"
        alt="profile picture"
        (click)="openProfile($event)"
      />
    </div>
  </ion-tab-bar>
  <!-- larger -->
  <ion-tab-bar
    slot="top"
    class="bg-black bg-opacity-90 backdrop-blur-md drop-shadow-lg text-ept-off-white grid-cols-3 px-4 hidden sm:grid"
  >
    <div id="title" class="main-title flex justify-self-start">
      <ion-label
        ngClass="title-text"
        class="hidden 1032:block sm:text-md md:text-xl font-semibold"
        [ngClass]="{'lg:text-xl': !isLargeScreen, 'lg:text-2xl': isLargeScreen}"
        >Event Participation Trends
      </ion-label>
      <ion-label
        ngClass="title-text"
        class="block 1032:hidden sm:text-md md:text-xl font-semibold"
        [ngClass]="{'lg:text-xl': !isLargeScreen, 'lg:text-2xl': isLargeScreen}"
        >EPT
      </ion-label>
    </div>

    <div
      class="flex justify-center items-center bg-transparent text-inherit text-md h-full"
    >
      <ion-tab-button
        *ngIf="allowUsers()"
        tab="usermanagement"
        ngClass="tab-button"
        class="bg-inherit hover:text-ept-bumble-yellow duration-300 transition-all"
        (click)="selectTab('Users')"
        selected="{{usersSelected}}"
      >
        <ion-label ngClass="tab-text">Users</ion-label>
      </ion-tab-button>

      <div
        *ngIf="allowUsers()"
        class="h-3/6 min-h-[1em] w-[3px] bg-[#252527] bg-opacity-90 dark:opacity-100 self-center rounded-full"
      ></div>

      <ion-tab-button
        *ngIf="allowView()"
        tab="viewevents"
        ngClass="tab-button"
        class="bg-inherit hover:text-ept-bumble-yellow duration-300 transition-all"
        (click)="selectTab('View')"
        selected="{{viewSelected}}"
      >
        <ion-label>Events</ion-label>
      </ion-tab-button>

      <div
        *ngIf="allowCompare()"
        class="h-3/6 min-h-[1em] w-[3px] bg-[#252527] bg-opacity-90 dark:opacity-100 self-center rounded-full"
      ></div>

      <ion-tab-button
        *ngIf="allowCompare()"
        tab="comparingevents"
        ngClass="tab-button"
        class="bg-inherit hover:text-ept-bumble-yellow duration-300 transition-all"
        (click)="selectTab('Compare Events')"
        selected="{{compareSelected}}"
      >
        <ion-label>Compare</ion-label>
      </ion-tab-button>
    </div>

    <div class="flex justify-self-end"
    >
      <div class="self-center text-xl">{{username}}</div>
      <div class="self-end text-gray-400 ml-1 text-[15px]">/ {{role}}</div>
      <ion-icon
        *ngIf="faultyImage"
        slot="end"
        name="person-circle"
        class="w-[40px] h-[40px] rounded-full"
        alt="profile picture"
      ></ion-icon>
      <img
        *ngIf="!faultyImage"
        slot="end"
        src="{{profilePicUrl}}"
        class="w-[35px] h-[35px] rounded-full ml-2 hover:scale-[115%] transition-all duration-200"
        alt="profile picture"
        (click)="openProfile($event)"
      />
    </div>
  </ion-tab-bar>
</ion-tabs>
