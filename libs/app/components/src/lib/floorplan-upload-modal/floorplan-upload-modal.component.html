<div
    id="uploadModal"
    [ngClass]="{ hidden: hideModal }"
  class="fixed w-screen h-screen top-0 left-0 flex justify-center items-center"
>
  <div
    class="fixed w-screen h-screen top-0 left-0 bg-ept-navy-blue bg-opacity-80"
  ></div>
  <div
    class="relative max-w-4xl bg-gradient-to-br from-ept-blue-grey from-[-30%] to-[#7a849c] z-50 rounded-2xl p-5"
  >
    <ng-icon
      name="matClose"
      class="text-3xl absolute right-2 top-2 text-ept-navy-blue cursor-pointer"
      (click)="closeModal()"
    ></ng-icon>
    <h1 class="md:text-md lg:text-lg text-center text-ept-deep-grey m-3 font-semibold">Upload image of a floor plan</h1>
    <div class="content-container flex justify-evenly">
        <div class="inputs-container min-w-fit flex flex-col items-center justify-center border-r-2 border-solid border-ept-deep-grey p-5">
            <div class="flex flex-col justify-center items-center">
                <label class="text-sm text-center max-w-sm">Upload image file</label>
                <input type="file" id="fileInput" accept="image/*" capture="camera" hidden/>
                <img
                    id="uploadImage"
                    class=" p-1 max-w-10 max-h-10 mt-2 opacity-50 hover:opacity-100 cursor-pointer"
                    draggable="false"
                    [src]="true ? 'assets/black-alt-upload-frame-svgrepo-com.svg' : 'assets/blue-alt-upload-frame-svgrepo-com.svg'"
                    alt="uploadImage"
                    (click)="uploadFloorplanImage()"
                />
            </div>
            <hr class="mt-3 mb-3 opacity-80">
            <div class="flex flex-col justify-center items-center mt-2">
                <label for="fileTypes" class="text-sm text-center max-w-sm mb-2">Choose image file type</label>
                <select name="fileTypes" id="fileTypes" class="bg-ept-off-white rounded-sm text-ept-deep-grey pl-3 pr-3 cursor-pointer">
                    <option value="png">PNG</option>
                    <option value="jpg">JPG</option>
                    <option value="jpeg">JPEG</option>
                    <option value="svg+xml">SVG</option>
                    <option value="vnd.adobe.photoshop">PSD</option>
                    <option value="webp">WEBP</option>
                    <option value="tiff">TIFF</option>
                    <option value="gif">GIF</option>
                </select>
            </div>
        </div>
        <div class="image-view-container flex items-center justify-center p-5 m-2">
            <label *ngIf="nothingUploaded" class="text-sm text-center opacity-75 italic">Upload image for preview</label>
            <img
                id="previewFloorplanImage"
                class="p-1 mt-2 opacity-100 pointer-events-none rounded-xl"
                [ngClass]="{'hidden': nothingUploaded }"
                draggable="false"
                alt="floorplanImage"
            />
        </div>
    </div>
  </div>
</div>
<event-participation-trends-toast-modal 
    *ngIf="showToastUploading"
    class="z-50"
    [toastMessage]="'Uploading...'" 
    [toastType]="''"
    [success]="showToastSuccess"
    [failure]="showToastFailure"
    [linking]="showToastUploading"
></event-participation-trends-toast-modal>
<event-participation-trends-toast-modal 
    *ngIf="showToastSuccess"
    class="z-50"
    [toastMessage]="toastMessage" 
    [toastType]="'success'"
    [success]="showToastSuccess"
    [failure]="showToastFailure"
    [linking]="showToastUploading"
    (closeModalEvent)="closeToastModal()"
></event-participation-trends-toast-modal>
<event-participation-trends-toast-modal 
    *ngIf="showToastSuccess"
    class="z-50"
    [toastMessage]="toastMessage" 
    [toastType]="'failure'"
    [success]="showToastSuccess"
    [failure]="showToastFailure"
    [linking]="showToastUploading"
    (closeModalEvent)="closeToastModal()"
></event-participation-trends-toast-modal>
<event-participation-trends-toast-modal
  *ngIf="showToast"
  class="transition-opacity duration-100 hidden opacity-0"
  id="toast-modal"
  [toastHeading]="'Invalid file extension'"
  [toastMessage]="'Please select an image file when uploading an image of a floor plan.'" 
  [toastType]="'failure'"
  [success]="false"
  [failure]="true"
  [linking]="false"
  (closeModalEvent)="closeToastModal()"
  [busyUploadingFloorplan]="true"
></event-participation-trends-toast-modal>
