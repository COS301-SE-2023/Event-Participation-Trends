#!/bin/bash

file_path="./node_modules/whatwg-url/lib/encoding.js"
content_to_add="const { TextEncoder, TextDecoder } = require(\"util\");"

# Read the first line of the file
first_line=$(head -n 1 "$file_path")

# Check if the first line matches the content to add
if [[ "$first_line" != "$content_to_add" ]]; then
  # Add the content to the start of the file
  sed -i "1s|^|$content_to_add\n|" "$file_path"

  echo "Content added to the file."
else
  echo "Content is already present in the file."
fi
